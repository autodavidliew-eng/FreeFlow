# Validation S5.1 â€” NGSI-LD Ingestor

## Start dependencies

```bash
cd infra/compose
sudo docker compose up -d scorpio
sudo docker compose --profile ngsi up -d context-server
```

## Start ingestor

```bash
pnpm --filter @freeflow/ngsi-ingestor dev
```

## Build sample CSV (once)

```bash
python3 scripts/data/build_smartmeter_week_5min.py --start 2007-01-01
```

## Replay sample data

```bash
curl -X POST "http://localhost:8091/replay/smartmeter/week?speed=fast&tenant=alpha"
```

## Query Scorpio

```bash
curl -s "http://localhost:9090/ngsi-ld/v1/entities?type=SmartMeterMeasurement&limit=1" \
  -H "Accept: application/ld+json" \
  -H "NGSILD-Tenant: alpha"
```
