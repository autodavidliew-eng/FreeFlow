# Validation S6.2 â€” Subscription Scripts

## Create subscription

```bash
pnpm exec ts-node scripts/ngsi/scorpio-create-smartmeter-subscription.ts
```

## Replay sample data

```bash
python3 scripts/data/build_smartmeter_week_5min.py --start 2007-01-01
curl -X POST "http://localhost:8091/replay/smartmeter/week?speed=fast&tenant=alpha"
```

## Confirm notifications in consumer

```bash
cd infra/compose
sudo docker compose exec postgres psql -U freeflow -d freeflow -c "select count(*) from \"SmartMeterMeasurement\";"
```

## Delete subscription

```bash
pnpm exec ts-node scripts/ngsi/scorpio-delete-subscription.ts --id urn:ngsi-ld:Subscription:alpha:emeter-001
```
